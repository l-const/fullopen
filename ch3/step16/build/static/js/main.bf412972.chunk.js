(this.webpackJsonpstep6=this.webpackJsonpstep6||[]).push([[0],{41:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var c=n(2),a=n(16),u=n.n(a),r=n(17),o=n(3),i=n(5),s=n.n(i),l="/api/persons",d=function(){return s.a.get(l).then((function(e){return e.data}))},j=function(e){return s.a.post(l,e).then((function(e){return e.data}))},b=function(e){return s.a.delete("".concat(l,"/").concat(e)).then((function(e){return e.data}))},f=n(0),h=function(e){var t=e.message,n=e.type;if(null===t)return null;var c="message";return c="good"===n?"message good":"message bad",Object(f.jsx)("div",{className:c,children:t})},m=function(){var e=Object(c.useState)([]),t=Object(o.a)(e,2),n=t[0],a=t[1],u=Object(c.useState)(""),i=Object(o.a)(u,2),s=i[0],l=i[1],m=Object(c.useState)(""),p=Object(o.a)(m,2),x=p[0],C=p[1],w=Object(c.useState)(""),y=Object(o.a)(w,2),_=y[0],S=y[1],k=Object(c.useState)(""),E=Object(o.a)(k,2),T=E[0],D=E[1],H=Object(c.useState)("good"),J=Object(o.a)(H,2),L=J[0],N=J[1];Object(c.useEffect)((function(){d().then((function(e){a(e),D("Downloaded initial resources!"),N("good")})),setTimeout((function(){D(null)}),2e3)}),[]);var B;return Object(f.jsxs)("div",{children:[Object(f.jsx)("h2",{children:"Phonebook"}),Object(f.jsx)(h,{message:T,type:L}),Object(f.jsx)(O,{value:_,onChange:function(e){S(e.target.value)}}),Object(f.jsx)(g,{submit:function(e){e.preventDefault();var t={name:s,number:x};j(t).then((function(e){console.log(e),a([].concat(Object(r.a)(n),[t])),D(" ".concat(t.name," created successfully")),N("good"),setTimeout((function(){D(null)}),2e3)}))},na_value:s,na_change:function(e){l(e.target.value)},nu_value:x,nu_change:function(e){C(e.target.value)}}),Object(f.jsx)("h3",{children:"Numbers"}),Object(f.jsx)(v,{pers:(B=_,n.filter((function(e){return e.name.toLowerCase().includes(B.toLowerCase())}))),dropHandler:function(e){if(e.target.style.backgroundColor="#6960EC",window.confirm("Delete ".concat(e.target.name))){var t=n.find((function(t){return t.name===e.target.name})).id;b(t).then((function(c){a(n.filter((function(e){return e.id!==t}))),D(" ".concat(e.target.name," deleted successfully")),N("good"),setTimeout((function(){D(null)}),2e3)})).catch((function(t){D("".concat(e.target.name," is already deleted! Error")),N("bad"),setTimeout((function(){D(null)}),4e3)}))}}})]})},O=function(e){var t=e.value,n=e.onChange;return Object(f.jsxs)("div",{children:["filter shown with ",Object(f.jsx)("input",{value:t,onChange:n})]})},g=function(e){var t=e.submit,n=e.na_value,c=e.na_change,a=e.nu_value,u=e.nu_change;return Object(f.jsxs)("form",{onSubmit:t,children:[Object(f.jsxs)("div",{children:["name: ",Object(f.jsx)("input",{value:n,onChange:c})]}),Object(f.jsxs)("div",{children:["number: ",Object(f.jsx)("input",{value:a,onChange:u})]}),Object(f.jsx)("div",{children:Object(f.jsx)("button",{type:"submit",children:"add"})})]})},v=function(e){var t=e.pers,n=e.dropHandler;return Object(f.jsx)("div",{children:t.map((function(e){return Object(f.jsxs)("p",{children:[e.name+" "+e.number,Object(f.jsx)("button",{name:e.name,onClick:n,children:"delete"},e.id)]},e.name)}))})};n(41);u.a.render(Object(f.jsx)(m,{}),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.bf412972.chunk.js.map